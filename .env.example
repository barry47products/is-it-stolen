# Environment
NODE_ENV=development

# Server Configuration
PORT=8000
HOST=0.0.0.0

# WhatsApp Business Cloud API
# Get these from https://developers.facebook.com/apps
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id_here
WHATSAPP_ACCESS_TOKEN=your_permanent_access_token_here
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id_here
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token_here
WHATSAPP_APP_SECRET=your_app_secret_here

# Database (PostgreSQL with PostGIS)
# SECURITY WARNING: Change the password! Never use default passwords in production!
# Format: postgresql://username:password@host:port/database
# Production: Use strong passwords and store in secure secret management (e.g., AWS Secrets Manager)
DATABASE_URL=postgresql://isitstolen_user:CHANGE_THIS_PASSWORD@localhost:5433/isitstolen

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# Session Configuration
SESSION_TTL=86400
CONVERSATION_TIMEOUT=600

# Rate Limiting (User-based - per phone number)
# Window in seconds for user rate limiting
RATE_LIMIT_WINDOW_SECONDS=60
# Maximum requests per user in the time window
RATE_LIMIT_MAX_REQUESTS=10

# Rate Limiting (IP-based - for webhook endpoints)
# Window in seconds for IP rate limiting
IP_RATE_LIMIT_WINDOW_SECONDS=60
# Maximum webhook requests per IP in the time window
IP_RATE_LIMIT_MAX_REQUESTS=100

# Rate Limiting Bypass (Admin/Testing)
# WARNING: Only enable in development/testing environments!
# NEVER enable in production as it bypasses security controls
RATE_LIMIT_BYPASS_ENABLED=false
# Comma-separated list of phone numbers or IPs to bypass (e.g., "+1234567890,192.168.1.100")
RATE_LIMIT_BYPASS_KEYS=

# Media Storage
MEDIA_STORAGE_PATH=./uploads
MEDIA_MAX_SIZE_MB=10

# Logging
# Log level: debug, info, warning, error, critical
LOG_LEVEL=info
# Log format: console (coloured, human-readable) or json (machine-parsable for production)
LOG_FORMAT=console
# Redact sensitive data from logs (passwords, tokens, API keys, etc.)
LOG_REDACT_SENSITIVE=true

# Sentry Error Tracking (Optional)
# Get DSN from https://sentry.io/settings/projects/YOUR_PROJECT/keys/
# Leave empty to disable error tracking
SENTRY_DSN=
# Environment name (development, staging, production)
SENTRY_ENVIRONMENT=development
# Release version (e.g., git SHA or version number)
SENTRY_RELEASE=
# Traces sample rate (0.0-1.0, 0.1 = 10% of transactions)
SENTRY_TRACES_SAMPLE_RATE=0.1
# Profiles sample rate (0.0-1.0, 0.1 = 10% of transactions)
SENTRY_PROFILES_SAMPLE_RATE=0.1

# OpenTelemetry Distributed Tracing
# Enable/disable OpenTelemetry tracing
OTEL_ENABLED=true
# Service name for traces (appears in tracing UI)
OTEL_SERVICE_NAME=is-it-stolen
# OTLP exporter endpoint (leave empty for console output in development)
# Examples: http://localhost:4317 (Jaeger), http://localhost:4318/v1/traces (OTLP/HTTP)
OTEL_EXPORTER_ENDPOINT=
# Trace sampling rate (0.0-1.0, 1.0 = 100% in development, 0.1 = 10% in production)
OTEL_TRACES_SAMPLE_RATE=1.0

# External Services (Optional)
# S3_BUCKET=
# S3_REGION=

# Development (Ngrok)
# NGROK_AUTHTOKEN=your_ngrok_authtoken_here
